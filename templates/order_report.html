{% extends "base.html" %}
{% block main %}
<div class="content mt-3">
  <div class="animated fadeIn">
      <div class="row">
          <div class="col-md-12">
              <div class="card">
                  <div class="card-header">
                      <strong class="card-title">訂單報表</strong>
                  </div>
                  {% with danger=danger %}
                    {% include "tools/danger.html" %}
                  {% endwith %}
                  <h3 class="my-3 px-4">訂單報表</h3>
                  <div class="card-body">
                    <form class="form-groups mt-3" action="">
                        <select name="column">
                            <option value="id">訂單編號</option>
                            <option value="user_name">使用者姓名</option>
                            <option value="order_date">訂單日期</option>
                            <option value="product_names">產品清單</option>
                            <option value="total_price">總價</option>
                            <option value="total_cost">總成本</option>
                            <option value="total_quantity">總量</option>
                        </select>
                        <select name="condition">
                            <option value=">">></option>
                            <option value="<"><</option>
                            <option value="in">in</option>
                            <option value="between">between</option>
                            <option value="like">like</option>
                            <option value="is null">is null</option>
                            <option value="=">=</option>
                            <option value="!=">!=</option>
                        </select>
                        <input type="text" name="value">
                        <button class="btn btn-success">送出</button>
                        <a class="btn btn-warning" href="/">重設</a>
                    </form>
                      <table id="bootstrap-data-table-export" class="table table-striped table-bordered">
                          <thead>
                              <tr>
                                  <th>訂單編號</th>
                                  <th>使用者姓名</th>
                                  <th>訂單日期</th>
                                  <th>產品清單</th>
                                  <th>總價</th>
                                  <th>總成本</th>
                                  <th>總量</th>
                                  <th>功能</th>
                              </tr>
                          </thead>
                          <tbody>
                            {% for row in data %}
                              <tr>
                                  <td>{{ row['id'] }}</td>
                                  <td>{{ row['user_name'] }}</td>
                                  <td>{{ row['order_date'] }}</td>
                                  <td>{{ row['product_names'] }}</td>
                                  <td>{{ row['total_price'] }}</td>
                                  <td>{{ row['total_cost'] }}</td>
                                  <td>{{ row['total_quantity'] }}</td>
                                  <td>
                                      <input type="button" class="btn btn-success create-shipment" data-id="{{ row['id']}}" value="建立運送">
                                  </td>
                              </tr>
                            {% endfor %}
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
      </div>
  </div><!-- .animated -->
</div><!-- .content -->
{% include "tools/shipments_modal.html" %}
{% endblock %}